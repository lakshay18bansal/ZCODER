'use strict';
var aSet = require('core-js-pure/internals/a-set');
var add = require('core-js-pure/internals/set-helpers').add;
var clone = require('core-js-pure/internals/set-clone');
var getSetRecord = require('core-js-pure/internals/get-set-record');
var iterateSimple = require('core-js-pure/internals/iterate-simple');

// `Set.prototype.union` method
// https://github.com/tc39/proposal-set-methods
module.exports = function union(other) {
  var O = aSet(this);
  var keysIter = getSetRecord(other).getIterator();
  var result = clone(O);
  iterateSimple(keysIter, function (it) {
    add(result, it);
  });
  return result;
};
