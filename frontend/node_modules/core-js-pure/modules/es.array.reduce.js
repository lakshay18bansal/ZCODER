'use strict';
var $ = require('core-js-pure/internals/export');
var $reduce = require('core-js-pure/internals/array-reduce').left;
var arrayMethodIsStrict = require('core-js-pure/internals/array-method-is-strict');
var CHROME_VERSION = require('core-js-pure/internals/environment-v8-version');
var IS_NODE = require('core-js-pure/internals/environment-is-node');

// Chrome 80-82 has a critical bug
// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982
var CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;
var FORCED = CHROME_BUG || !arrayMethodIsStrict('reduce');

// `Array.prototype.reduce` method
// https://tc39.es/ecma262/#sec-array.prototype.reduce
$({ target: 'Array', proto: true, forced: FORCED }, {
  reduce: function reduce(callbackfn /* , initialValue */) {
    var length = arguments.length;
    return $reduce(this, callbackfn, length, length > 1 ? arguments[1] : undefined);
  }
});
