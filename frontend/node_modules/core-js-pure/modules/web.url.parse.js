'use strict';
var $ = require('core-js-pure/internals/export');
var getBuiltIn = require('core-js-pure/internals/get-built-in');
var validateArgumentsLength = require('core-js-pure/internals/validate-arguments-length');
var toString = require('core-js-pure/internals/to-string');
var USE_NATIVE_URL = require('core-js-pure/internals/url-constructor-detection');

var URL = getBuiltIn('URL');

// `URL.parse` method
// https://url.spec.whatwg.org/#dom-url-canparse
$({ target: 'URL', stat: true, forced: !USE_NATIVE_URL }, {
  parse: function parse(url) {
    var length = validateArgumentsLength(arguments.length, 1);
    var urlString = toString(url);
    var base = length < 2 || arguments[1] === undefined ? undefined : toString(arguments[1]);
    try {
      return new URL(urlString, base);
    } catch (error) {
      return null;
    }
  }
});
