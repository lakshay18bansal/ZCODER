'use strict';
// TODO: Remove from `core-js@4`
var $ = require('core-js-pure/internals/export');
var charAt = require('core-js-pure/internals/string-multibyte').charAt;
var requireObjectCoercible = require('core-js-pure/internals/require-object-coercible');
var toIntegerOrInfinity = require('core-js-pure/internals/to-integer-or-infinity');
var toString = require('core-js-pure/internals/to-string');

// `String.prototype.at` method
// https://github.com/mathiasbynens/String.prototype.at
$({ target: 'String', proto: true, forced: true }, {
  at: function at(index) {
    var S = toString(requireObjectCoercible(this));
    var len = S.length;
    var relativeIndex = toIntegerOrInfinity(index);
    var k = relativeIndex >= 0 ? relativeIndex : len + relativeIndex;
    return (k < 0 || k >= len) ? undefined : charAt(S, k);
  }
});
