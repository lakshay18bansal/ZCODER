'use strict';
var $ = require('core-js-pure/internals/export');
var toObject = require('core-js-pure/internals/to-object');
var isPrototypeOf = require('core-js-pure/internals/object-is-prototype-of');
var getAsyncIteratorFlattenable = require('core-js-pure/internals/get-async-iterator-flattenable');
var AsyncIteratorPrototype = require('core-js-pure/internals/async-iterator-prototype');
var WrapAsyncIterator = require('core-js-pure/internals/async-iterator-wrap');

// `AsyncIterator.from` method
// https://github.com/tc39/proposal-async-iterator-helpers
$({ target: 'AsyncIterator', stat: true, forced: true }, {
  from: function from(O) {
    var iteratorRecord = getAsyncIteratorFlattenable(typeof O == 'string' ? toObject(O) : O);
    return isPrototypeOf(AsyncIteratorPrototype, iteratorRecord.iterator)
      ? iteratorRecord.iterator
      : new WrapAsyncIterator(iteratorRecord);
  }
});
